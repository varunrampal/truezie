{"version":3,"sources":["user/pages/SignUpPage.js"],"names":["useStyles","makeStyles","theme","root","height","image","backgroundImage","concat","loginBg","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","validationSchema","Yup","shape","name","required","email","password","min","confirmPassword","oneOf","SignUp","classes","auth","useContext","AuthContext","_useHttpClient","useHttpClient","isLoading","error","success","sendRequest","clearError","clearSuccess","_useState","useState","_useState2","Object","D_Projects_TrueZie_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","message","setMessage","history","useHistory","_useFormik","useFormik","initialValues","confirmpassword","onSubmit","_onSubmit","D_Projects_TrueZie_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Projects_TrueZie_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","values","responseData","wrap","_context","prev","next","process","JSON","stringify","Content-Type","sent","login","results","userId","userName","token","setTimeout","push","t0","console","log","stop","_x","apply","this","arguments","handleSubmit","handleChange","handleBlur","errors","touched","isValid","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_11__","container","component","className","_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_7__","_shared_components_UIElements_ErrorModal__WEBPACK_IMPORTED_MODULE_22__","onClear","_shared_components_UIElements_SuccessModal__WEBPACK_IMPORTED_MODULE_21__","successMessage","item","xs","sm","md","Paper","elevation","square","_shared_components_UIElements_LoadingSpinner__WEBPACK_IMPORTED_MODULE_23__","asOverlay","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_5__","_material_ui_icons_LockOutlined__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__","variant","noValidate","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_8__","fullWidth","id","label","autoComplete","onChange","onBlur","helperText","Boolean","autoFocus","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__","color","disabled","justify","react_router_dom__WEBPACK_IMPORTED_MODULE_9__","to","_material_ui_core_Box__WEBPACK_IMPORTED_MODULE_12__","mt","_shared_components_FooterElements_Copyright__WEBPACK_IMPORTED_MODULE_24__"],"mappings":"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","file":"static/js/10.b4690fc0.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Link } from \"react-router-dom\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport loginBg from '../../assets/login-bg.png';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport SuccessModal from '../../shared/components/UIElements/SuccessModal';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport Copyright from '../../shared/components/FooterElements/Copyright';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: `url(${loginBg})`,\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  name: Yup.string().required('Name is required'),\r\n  email: Yup.string()\r\n    .email('Enter a valid email')\r\n    .required('Email is required'),\r\n  password: Yup.string('Enter your password')\r\n    .min(6, 'Password must contain at least 6 characters')\r\n    .required('Enter your password'),\r\n  confirmPassword: Yup.string('Enter your password')\r\n    .required('Confirm your password')\r\n    .oneOf([Yup.ref('password')], 'Password does not match'),\r\n});\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error,  success,\r\n    sendRequest,\r\n    clearError,\r\n    clearSuccess, } = useHttpClient();\r\n  const [message, setMessage] = useState('');\r\n  const history = useHistory();\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    handleBlur,\r\n    errors,\r\n    touched,\r\n    isValid,\r\n    } = useFormik({\r\n    initialValues: {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      confirmpassword: '',\r\n    },\r\n    validationSchema,\r\n    async onSubmit(values) {\r\n\r\n      try {\r\n        const endpoint = process.env.REACT_APP_API_BASE_URL + 'user/signup';\r\n        const responseData = await sendRequest(\r\n          endpoint,\r\n          'POST',\r\n          JSON.stringify({\r\n            name: values.name,\r\n            email: values.email,\r\n            password: values.password\r\n          }),\r\n          {\r\n            'Content-Type': 'application/json',\r\n          }\r\n        );\r\n        auth.login(responseData.results.userId, responseData.results.userName, responseData.results.token);\r\n        setMessage('You have signed up successfully!');\r\n        setTimeout(() => {\r\n          history.push('/dashboard');\r\n        }, 2000);\r\n        \r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n\r\n });\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <SuccessModal\r\n                success={success}\r\n                successMessage={message}\r\n                onClear={clearSuccess}\r\n            />\r\n     <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n      <div className={classes.paper}>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n          Sign up\r\n        </Typography>\r\n        <div></div>\r\n\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            id='name'\r\n            label='Name'\r\n            name='name'\r\n            type='text'\r\n            autoComplete='name'\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            helperText={touched.name ? errors.name : ''}\r\n            error={touched.name && Boolean(errors.name)}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            id='email'\r\n            label='Email Address'\r\n            name='email'\r\n            type='email'\r\n            autoComplete='email'\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            helperText={touched.email ? errors.email : ''}\r\n            error={touched.email && Boolean(errors.email)}\r\n            \r\n          />\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            name='password'\r\n            label='Password'\r\n            type='password'\r\n            id='password'\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            helperText={touched.password ? errors.password : ''}\r\n            error={touched.password && Boolean(errors.password)}\r\n            autoComplete='current-password'\r\n          />\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            name='confirmPassword'\r\n            label='Confirm Password'\r\n            type='password'\r\n            id='confirmPassword'\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            helperText={touched.confirmPassword ? errors.confirmPassword : ''}\r\n            error={touched.confirmPassword && Boolean(errors.confirmPassword)}\r\n            autoComplete='current-password'\r\n          />\r\n          <Button\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n            className={classes.submit}\r\n            disabled={!isValid}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n     \r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box> \r\n      </div>\r\n      \r\n      </Grid>\r\n    </Grid>\r\n    \r\n  );\r\n}\r\n"],"sourceRoot":""}