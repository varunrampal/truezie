{"version":3,"sources":["user/pages/Signup.js"],"names":["useStyles","makeStyles","theme","container","Object","D_Projects_TrueZie_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__","display","alignItems","width","height","overflow","breakpoints","down","margin","main","position","flex","flexDirection","justifyContent","form","spacing","button","marginTop","color","borderColor","textTransform","validationSchema","Yup","shape","name","required","email","password","min","confirmPassword","oneOf","Signup","props","classes","history","useHistory","_useState","useState","_useState2","D_Projects_TrueZie_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","message","setMessage","auth","useContext","AuthContext","_useHttpClient","useHttpClient","isLoading","error","success","sendRequest","clearError","clearSuccess","_useFormik","useFormik","initialValues","confirmpassword","onSubmit","_onSubmit","D_Projects_TrueZie_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Projects_TrueZie_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","values","responseData","wrap","_context","prev","next","process","JSON","stringify","Content-Type","sent","login","results","userId","userName","token","setTimeout","push","t0","console","log","stop","_x","apply","this","arguments","handleSubmit","handleChange","handleBlur","errors","touched","isValid","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","className","_shared_components_UIElements_LoadingSpinner__WEBPACK_IMPORTED_MODULE_15__","asOverlay","_shared_components_UIElements_ErrorModal__WEBPACK_IMPORTED_MODULE_13__","onClear","_shared_components_UIElements_SuccessModal__WEBPACK_IMPORTED_MODULE_14__","successMessage","_shared_components_LoginElements_LoginImg__WEBPACK_IMPORTED_MODULE_16__","_shared_components_LoginElements_LoginTopBtn__WEBPACK_IMPORTED_MODULE_17__","page","noValidate","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7__","id","label","type","autoComplete","onChange","onBlur","helperText","Boolean","autoFocus","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__","variant","disabled","_shared_components_FooterElements_Copyright__WEBPACK_IMPORTED_MODULE_10__"],"mappings":"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","file":"static/js/11.881f5ef3.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport Copyright from '../../shared/components/FooterElements/Copyright';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport SuccessModal from '../../shared/components/UIElements/SuccessModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\n\r\nimport { LoginImg } from '../../shared/components/LoginElements/LoginImg';\r\nimport { LoginTopBtn } from '../../shared/components/LoginElements/LoginTopBtn';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    height: '100vh',\r\n    overflow: 'hidden',\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      width: '90%',\r\n      margin: 'auto'\r\n    }\r\n  },\r\n  main: {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    height: '100%',\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      width: '100%'\r\n    }\r\n  },\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    margin: theme.spacing(10),\r\n    width: '20rem',\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: 'auto',\r\n      width: '100%'\r\n    }\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(4),\r\n    width: '9rem',\r\n    height: '2.5rem',\r\n    color: '#38cc89',\r\n    borderColor: '#38cc89',\r\n    textTransform: 'none'\r\n  }\r\n}));\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  name: Yup.string().required('Name is required'),\r\n  email: Yup.string()\r\n    .email('Enter a valid email')\r\n    .required('Email is required'),\r\n  password: Yup.string('Enter your password')\r\n    .min(6, 'Password must contain at least 6 characters')\r\n    .required('Enter your password'),\r\n  confirmPassword: Yup.string('Enter your password')\r\n    .required('Confirm your password')\r\n    .oneOf([Yup.ref('password')], 'Password does not match'),\r\n});\r\n\r\nexport default function Signup(props) {\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n  const [message, setMessage] = useState('');\r\n\r\n  const auth = useContext(AuthContext);\r\n  const {\r\n    isLoading,\r\n    error,\r\n    success,\r\n    sendRequest,\r\n    clearError,\r\n    clearSuccess,\r\n  } = useHttpClient();\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    handleBlur,\r\n    errors,\r\n    touched,\r\n    isValid,\r\n  } = useFormik({\r\n    initialValues: {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      confirmpassword: '',\r\n    },\r\n    validationSchema,\r\n    async onSubmit(values) {\r\n      try {\r\n        const endpoint = process.env.REACT_APP_API_BASE_URL + 'user/signup';\r\n        const responseData = await sendRequest(\r\n          endpoint,\r\n          'POST',\r\n          JSON.stringify({\r\n            name: values.name,\r\n            email: values.email,\r\n            password: values.password\r\n          }),\r\n          {\r\n            'Content-Type': 'application/json',\r\n          }\r\n        );\r\n        auth.login(responseData.results.userId, responseData.results.userName, responseData.results.token);\r\n        setMessage('You have signed up successfully!');\r\n        setTimeout(() => {\r\n          history.push('/dashboard');\r\n        }, 2000);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={classes.container} >\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n      < ErrorModal error={error} onClear={clearError} />\r\n      <SuccessModal\r\n        success={success}\r\n        successMessage={message}\r\n        onClear={clearSuccess}\r\n      />\r\n      <LoginImg />\r\n      <main className={classes.main}>\r\n        <LoginTopBtn page=\"signup\" />\r\n        <form\r\n          noValidate\r\n          className={classes.form}\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <h2>Create an account</h2>\r\n          <TextField\r\n            id=\"name\"\r\n            label=\"Name\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            autoComplete=\"name\"\r\n            margin=\"dense\"\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            helperText={touched.name ? errors.name : ''}\r\n            error={touched.name && Boolean(errors.name)}\r\n            required\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            autoComplete=\"email\"\r\n            margin=\"dense\"\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            helperText={touched.email ? errors.email : ''}\r\n            error={touched.email && Boolean(errors.email)}\r\n            required\r\n          />\r\n          <TextField\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            margin=\"dense\"\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            helperText={touched.password ? errors.password : ''}\r\n            error={touched.password && Boolean(errors.password)}\r\n            required\r\n          />\r\n          <TextField\r\n            name=\"confirmPassword\"\r\n            label=\"Confirm Password\"\r\n            type=\"password\"\r\n            id=\"confirmPassword\"\r\n            autoComplete=\"current-password\"\r\n            margin=\"dense\"\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            helperText={touched.confirmPassword ? errors.confirmPassword : ''}\r\n            error={touched.confirmPassword && Boolean(errors.confirmPassword)}\r\n            required\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"outlined\"\r\n            disabled={!isValid}\r\n            className={classes.button}\r\n          >\r\n            Create\r\n        </Button>\r\n        </form>\r\n        <Copyright />\r\n      </main>\r\n    </div >\r\n  )\r\n}"],"sourceRoot":""}