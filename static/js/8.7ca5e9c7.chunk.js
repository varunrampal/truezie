(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{287:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(0),r=a.n(n),c=a(193),o=a(123),l=Object(o.a)({container:{position:"relative",padding:"1rem",height:function(e){return e.height},borderRadius:"1rem"},title:{fontSize:"0.8rem",color:"#38cc89"}});function i(e){var t=e.height,a=l({height:t||"16rem"});return r.a.createElement(c.a,{className:a.container},e.title&&r.a.createElement("h4",{className:a.title},e.title),e.children)}},317:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(0),r=a.n(n),c=a(240),o=a(690),l=a(244),i=a(683),s=a(123),u=Object(s.a)(function(e){return{formControl:{position:"absolute",top:function(e){return"".concat(e.top)},right:function(e){return"".concat(e.right)},margin:e.spacing(1),minWidth:120,textAlign:"center"}}});function m(e){var t=e.top,a=e.right,n=e.value,s=e.onChange,m=u({top:t,right:a});return r.a.createElement(c.a,{className:m.formControl},r.a.createElement(l.a,{value:n,onChange:s},r.a.createElement(i.a,null,"2020"),r.a.createElement(o.a,{value:"2020-7"},"August"),r.a.createElement(o.a,{value:"2020-8"},"September"),r.a.createElement(i.a,null,"2019"),r.a.createElement(o.a,{value:"2019-7"},"August")))}},318:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(53),r=a(0),c=a.n(r),o=a(123),l=Object(o.a)(function(e){return{txtExpensesTotal:{margin:"1rem 0",fontSize:"2rem"},float:Object(n.a)({position:"absolute",top:0,left:"10rem"},e.breakpoints.down("xs"),{left:"5rem"})}});function i(e){var t=l(),a=e.total,n=e.float;return c.a.createElement("p",{className:"".concat(t.txtExpensesTotal," ").concat(n?t.float:"")},c.a.createElement("sup",null,"$"),a.toLocaleString())}},684:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return L});var n=a(36),r=a.n(n),c=a(62),o=a(22),l=a(53),i=a(0),s=a.n(i),u=a(384),m=a.n(u),p=a(246),f=a(197),h=a(236),b=a(679),g=a(680),E=a(682),d=a(678),v=a(681),O=a(115),j=a(274),x=a(61),w=a(85),k=a(86),C=a(87),S=a(64),N=a(287),y=a(317),M=a(318),R=a(25),T=a(242),A=a(123),z=a(126),Y=a(63),D=Object(A.a)(function(e){return{pRel:{position:"relative"},container:{whiteSpace:"nowrap"},button:Object(l.a)({position:"absolute",top:"1.5rem",right:"0.5rem",color:"#1b3460",textTransform:"none"},e.breakpoints.up("sm"),{marginRight:e.spacing(1)}),thead:{display:"flex",alignItems:"center"},avatar:{marginRight:"1rem",width:"1.5rem",height:"1.5rem",color:"#fff",backgroundColor:O.a[500]},txtCat:{color:"grey",opacity:"0.8"}}}),I=function(){var e=(new Date).getTimezoneOffset(),t=Math.abs(Math.floor(e/60)),a=Math.abs(e%60);return"".concat(e>0?"-":"+").concat(t>9?t:"0"+t).concat(a>9?a:"0"+a)};function L(e){var t=D(),a=Object(T.a)(Object(R.a)().breakpoints.down("xs")),n=Object(i.useState)((new Date).getMonth()),l=Object(o.a)(n,2),u=l[0],O=l[1],A=Object(i.useState)((new Date).getFullYear()),L=Object(o.a)(A,2),B=L[0],G=L[1],J=Object(i.useState)([]),P=Object(o.a)(J,2),$=P[0],q=P[1],F=Object(i.useState)(0),V=Object(o.a)(F,2),W=V[0],X=V[1],_=Object(i.useState)(""),H=Object(o.a)(_,2),K=H[0],Q=H[1],U=Object(i.useContext)(j.a),Z=Object(i.useContext)(x.a),ee=Z.userId,te=e.receiptCount,ae=Object(w.a)(),ne=ae.isLoading,re=ae.error,ce=ae.success,oe=ae.sendRequest,le=ae.clearError,ie=ae.clearSuccess,se=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat("http://localhost:5000/api/","user/receipts/export/").concat(u),e.next=4,oe(t,"GET",null,{Authorization:"Bearer "+Z.token,userid:ee});case 4:201===e.sent.code&&Q("A link to download report is sent to your registered email. Please check the junk & spam e-mails also."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Y.a.logErrorInRollbar(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)(function(){(function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=I(),a="http://localhost:5000/api/"+"user/monthlyreport/".concat(ee,"&").concat(B,"&").concat(u,"&").concat(t),e.next=5,oe(a,"GET",null,{Authorization:"Bearer "+Z.token});case 5:n=e.sent,c=n.receipts.reduce(function(e,t){return e+t.amount},0),q(n.receipts),X(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Y.a.logErrorInRollbar(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}})()()},[oe,ee,Z.token,te,u,B]),s.a.createElement(z.a,null,s.a.createElement(h.a,{container:!0,spacing:3,xs:12,lg:10,className:t.pRel},ne&&s.a.createElement(S.a,{asOverlay:!0}),s.a.createElement(k.a,{error:re,onClear:le}),""!==K&&s.a.createElement(C.a,{success:ce,successMessage:K,onClear:ie}),s.a.createElement(y.a,{top:"-2.75rem",right:"0.5rem",value:"".concat(B,"-").concat(u),onChange:function(e){var t=e.target.value.split("-"),a=Object(o.a)(t,2),n=a[0],r=a[1];G(+n),O(+r)}}),s.a.createElement(h.a,{item:!0,xs:!0},s.a.createElement(N.a,{title:"TOTAL".concat(a?"":" EXPENSES"),height:"auto"},s.a.createElement(M.a,{total:W,float:!0}),s.a.createElement(f.a,{className:t.button,onClick:se},"Export CSV"),s.a.createElement(d.a,null,s.a.createElement(b.a,{className:t.container},s.a.createElement(g.a,null,$.map(function(e,a){var n=e._id,r=e.title,c=e.amount,o=e.date,l=e.category||"Other";return s.a.createElement(v.a,{key:a+" "+n},s.a.createElement(E.a,{component:"th",scope:"row"},s.a.createElement("div",{className:t.thead},s.a.createElement(p.a,{className:t.avatar},U[l]),r)),s.a.createElement(E.a,null,"-$".concat(c.toLocaleString())),s.a.createElement(E.a,null,m()(o).format("MMMM Do, YYYY")),s.a.createElement(E.a,{className:t.txtCat},l))}))))))))}}}]);
//# sourceMappingURL=8.7ca5e9c7.chunk.js.map